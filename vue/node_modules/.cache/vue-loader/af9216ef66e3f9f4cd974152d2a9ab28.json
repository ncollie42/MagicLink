{"remainingRequest":"/home/Nico/Github/MagicLink/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/Nico/Github/MagicLink/vue/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/Nico/Github/MagicLink/vue/src/views/Home.vue","mtime":1589501466008},{"path":"/home/Nico/Github/MagicLink/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/Nico/Github/MagicLink/vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/Nico/Github/MagicLink/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/Nico/Github/MagicLink/vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwppbXBvcnQgeyBncnBjIH0gZnJvbSAiQGltcHJvYmFibGUtZW5nL2dycGMtd2ViIjsKaW1wb3J0IHsgTG9naW4gfSBmcm9tICIuLi9sb2dpbmdSUEMvbG9naW5fcGJfc2VydmljZSI7IC8vc2VydmljZQppbXBvcnQgeyBqd3QgfSBmcm9tICIuLi9sb2dpbmdSUEMvbG9naW5fcGIiOyAvL3R5cGUKaW1wb3J0IGhvbWVfbWFpbiBmcm9tICdAL2NvbXBvbmVudHMvaG9tZV9tYWluLnZ1ZScKaW1wb3J0IHJvdXRlciBmcm9tICIuLi9yb3V0ZXIiCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0hvbWUnLAogIGNvbXBvbmVudHM6IHsKICAgIGhvbWVfbWFpbgogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuaXNMb2dnZWRJbigpCiAgfSwKICBtZXRob2RzOnsKICAgIGlzTG9nZ2VkSW46IGZ1bmN0aW9uKCkgewogICAgICBsZXQgbG9jYWxKV1QgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiand0IikKCiAgICAgICAgICAgIGNvbnN0IHJlcSA9IG5ldyBqd3QoKQogICAgICAgICAgICByZXEuc2V0Snd0KGxvY2FsSldUKQogICAgICAgICAgICBncnBjLnVuYXJ5KExvZ2luLmlzTG9nZ2VkSW4sIHsKICAgICAgICAgICAgICAgIHJlcXVlc3Q6IHJlcSwKICAgICAgICAgICAgICAgIGhvc3Q6IHRoaXMuJGhvc3RuYW1lLAogICAgICAgICAgICAgICAgb25FbmQ6IHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBzdGF0dXMsIHN0YXR1c01lc3NhZ2UsIGhlYWRlcnMsIG1lc3NhZ2UsIHRyYWlsZXJzIH0gPSByZXM7CiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gZ3JwYy5Db2RlLk9LICYmIG1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIiIpCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygic3RhdHVzOiIsIHN0YXR1cywgc3RhdHVzTWVzc2FnZSwgaGVhZGVycywgbWVzc2FnZSwgdHJhaWxlcnMpCiAgICAgICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goe3BhdGg6ICcvbG9naW4nfSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICB9Cn0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"home\">\n    <img alt=\"Vue logo\" src=\"../assets/logo.png\">\n    <home_main msg=\"Welcome to Your Vue.js App\"/>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport { grpc } from \"@improbable-eng/grpc-web\";\nimport { Login } from \"../logingRPC/login_pb_service\"; //service\nimport { jwt } from \"../logingRPC/login_pb\"; //type\nimport home_main from '@/components/home_main.vue'\nimport router from \"../router\"\n\nexport default {\n  name: 'Home',\n  components: {\n    home_main\n  },\n  created() {\n    this.isLoggedIn()\n  },\n  methods:{\n    isLoggedIn: function() {\n      let localJWT = localStorage.getItem(\"jwt\")\n\n            const req = new jwt()\n            req.setJwt(localJWT)\n            grpc.unary(Login.isLoggedIn, {\n                request: req,\n                host: this.$hostname,\n                onEnd: res => {\n                    const { status, statusMessage, headers, message, trailers } = res;\n                    if (status === grpc.Code.OK && message) {\n                        console.log(\"\")\n                    } else {\n                       console.log(\"status:\", status, statusMessage, headers, message, trailers)\n                       router.push({path: '/login'})\n                    }\n                }\n            })\n        },\n  }\n}\n</script>\n\n\n<style scoped>\n.home {\n  text-align: center;\n}\n</style>"]}]}