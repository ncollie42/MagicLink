{"remainingRequest":"/home/Nico/Github/MagicLink/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/Nico/Github/MagicLink/vue/src/views/confirmation.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/Nico/Github/MagicLink/vue/src/views/confirmation.vue","mtime":1589438420822},{"path":"/home/Nico/Github/MagicLink/vue/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/Nico/Github/MagicLink/vue/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/Nico/Github/MagicLink/vue/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/Nico/Github/MagicLink/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/Nico/Github/MagicLink/vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY29udGFpbmVyIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIC8qIGJhY2tncm91bmQtY29sb3I6IGNyaW1zb247ICovCiAgICBkaXNwbGF5OiBmbGV4OyAKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgIHdpZHRoOiAxMDAlOwogICAgdG9wOjIwJTsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIC8qIGJhY2tncm91bmQ6IGJyb3duOyAqLwp9Cg=="},{"version":3,"sources":["confirmation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"confirmation.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <div class=\"container\">\n            <waiting v-if=\"currentState == State.Waiting\"/>\n            <error v-else-if=\"currentState == State.Error\"/>\n            <success v-else-if=\"currentState == State.Succes\"/>\n            <!-- <waiting/> -->\n            <!-- <error/> -->\n            <!-- <success/> -->\n        </div>\n  \n        <!-- <footer>Testing</footer> -->\n    </div>\n</template>\n\n\n<script lang=\"ts\">\nimport Vue from 'vue'\nimport { grpc } from \"@improbable-eng/grpc-web\";\nimport { Login } from \"../logingRPC/login_pb_service\"; //service\nimport { code } from \"../logingRPC/login_pb\"; //type\nimport success from \"../components/confirmation_success.vue\"\nimport waiting from \"../components/confirmation_waiting.vue\"\nimport error from \"../components/confirmation_error.vue\"\n\nconst State = {\n    Waiting: 1,\n    Succes: 2,\n    Error: 3,\n}\n\nexport default Vue.extend({\n    components: {\n        success,\n        waiting,\n        error\n    },\n    data: function(){\n        return {\n            currentState: State.Waiting,\n            State,\n        }\n    },\n    created: function() {\n\n        let query = this.$route.query\n        if (query.code === undefined) {\n            this.currentState = State.Error\n            return \n        }\n\n        const sendingCode = new code();\n        sendingCode.setCode(query.code);\n\n        grpc.unary(Login.confirmLogin, {\n            request: sendingCode,\n            host: this.$hostname,\n            onEnd: res => {\n                const { status, statusMessage, headers, message, trailers } = res;\n                if (status === grpc.Code.OK && message) {\n                console.log(\"All good it worked: \", message.toObject());\n                    this.currentState = State.Succes\n                } else {\n                console.log(\"status:\", status, statusMessage, headers, message, trailers)\n                    this.currentState = State.Error\n                }\n            }\n        })\n    }\n})\n</script>\n\n\n<style>\n.container {\n    position: absolute;\n    /* background-color: crimson; */\n    display: flex; \n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    top:20%;\n    text-align: center;\n    /* background: brown; */\n}\n</style>"]}]}